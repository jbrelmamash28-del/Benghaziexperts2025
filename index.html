<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ูุงูุฐุฉ ุฑูุน ุจูุงูุงุช ูุบุฑุถ ุงูุดููู</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600&display=swap" rel="stylesheet">
<style>
html { font-size: 125%; }
* { box-sizing: border-box; }
body {
  font-family: "Cairo", sans-serif;
  background: linear-gradient(180deg, #17191c 0%, #0e0f10 100%);
  color: #e6e6e6;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
}

header {
  text-align: center;
  padding: 31px 12.5px;
  background: #1a1d21;
  box-shadow: 0 2px 8px rgba(0,0,0,0.6);
  position: relative;
}

/* Flex container ููุดุนุงุฑ ูุงูุฏูุงุฆุฑ */
.header-flex {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 200px; /* ุงูุชุจุงุนุฏ ุจูู ุงูุดุนุงุฑ ูุงูุฏูุงุฆุฑ */
}

header .logo-wrapper {
  display: inline-block;
  width: 250px;
  height: 250px;
  border-radius: 50%;
  overflow: hidden;
  border: 5px solid #2d9f59;
  box-shadow: 0 0 31px rgba(45,159,89,0.4);
  animation: pulse 5s infinite ease-in-out;
}
header img { width: 100%; height: 100%; object-fit: cover; }

header h2 {
  color: #8fe388;
  font-size: 27.5px;
  margin-top: 18.75px;
  animation: softPulse 3s infinite ease-in-out;
}
header h1 {
  color: #ffffff;
  font-size: 30px;
  margin-top: 6.25px;
}

/* ุฏูุงุฆุฑ ุงูุฅุญุตุงุฆูุงุช */
.stats-circle {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 180px;
  height: 180px;
  border-radius: 50%;
  opacity: 0;
  transform: scale(0.7);
  transition: all 0.6s ease;
  animation: pulseCircle 2s infinite ease-in-out;
}
.stats-circle.show {
  opacity: 1;
  transform: scale(1);
}
.red-circle {
  background: radial-gradient(circle at 30% 30%, #ff6b6b, #c0392b);
  color: #fff;
  border: 3px solid #c0392b;
  box-shadow: 0 0 15px rgba(255,0,0,0.4);
}
.green-circle {
  background: radial-gradient(circle at 30% 30%, #36d07a, #27ae60);
  color: #fff;
  border: 3px solid #27ae60;
  box-shadow: 0 0 15px rgba(0,255,0,0.4);
}
.stat-number { font-size: 36px; font-weight: bold; text-align: center; line-height: 1.2; }
.stat-label { font-size: 16px; margin-top: 5px; text-align: center; }

@keyframes pulseCircle {
  0%,100% { transform: scale(1); box-shadow: 0 0 15px rgba(255,255,255,0.2); }
  50% { transform: scale(1.05); box-shadow: 0 0 25px rgba(255,255,255,0.4); }
}
@keyframes pulse {
  0%,100% { transform: scale(1); box-shadow: 0 0 25px rgba(45,159,89,0.4); }
  50% { transform: scale(1.05); box-shadow: 0 0 44px rgba(45,159,89,0.7); }
}
@keyframes softPulse {
  0%,100% { opacity: 1; text-shadow: 0 0 13px rgba(143,227,136,0.4); }
  50% { opacity: 0.85; text-shadow: 0 0 25px rgba(143,227,136,0.7); }
}

/* ุจุงูู ุชูุณูู ุงููููุฐุฌ */
.form-container {
  position: relative;
  max-width: 1062px;
  background: rgba(28,31,35,0.95);
  margin: 50px auto;
  padding: 50px 62px;
  border-radius: 14px;
  box-shadow: 0 3px 12px rgba(0,0,0,0.5);
  overflow: hidden;
}
.form-container::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 625px;
  height: 625px;
  background: url('14CB1AC8-5C20-4ABE-8C85-3DF426A41645.png') no-repeat center;
  background-size: contain;
  opacity: 0.03;
  transform: translate(-50%, -50%);
  pointer-events: none;
}
label { display: block; margin: 18.75px 0 7.5px; color: #8fe388; font-weight: 600; }
input, select {
  width: 100%;
  padding: 12.5px;
  border: 1px solid #333;
  border-radius: 8px;
  background: #262a2f;
  color: #fff;
  font-size: 18.75px;
}
input:focus, select:focus { outline: none; border-color: #2d9f59; }
.two-columns { display: flex; gap: 18.75px; flex-wrap: wrap; }
.two-columns > div { flex: 1; }
.difference-box {
  background: #212428;
  border: 1px solid #2d9f59;
  border-radius: 8px;
  margin-top: 12.5px;
  padding: 15px;
  text-align: center;
  font-weight: bold;
  color: #8fe388;
  opacity: 0;
  transition: opacity 0.6s ease, transform 0.4s ease;
}
.difference-box.show { opacity: 1; transform: translateY(0); }
.note { font-size: 16.25px; color: #aaa; margin-top: 6.25px; text-align: center; display: none; }
button {
  background: #2d9f59;
  border: none;
  padding: 15px 37.5px;
  color: #fff;
  border-radius: 8px;
  font-size: 20px;
  cursor: pointer;
  margin-top: 31px;
  transition: all 0.3s ease;
}
button:hover { background: #36b866; transform: scale(1.03); }
footer { text-align: center; font-size: 16.25px; color: #888; margin-top: 37px; padding: 12.5px; border-top: 1px solid #333; }
.success-message {
  display: none;
  text-align: center;
  color: #8fe388;
  font-size: 22.5px;
  margin-top: 25px;
  background: rgba(33, 36, 40, 0.9);
  padding: 18.75px;
  border-radius: 10px;
  border: 1px solid #2d9f59;
  position: relative;
}
.success-message button {
  position: absolute;
  top: 6px;
  left: 12.5px;
  background: transparent;
  color: #8fe388;
  border: none;
  font-size: 22.5px;
  cursor: pointer;
}
</style>
</head>
<body>

<header>
  <div class="header-flex">
    <div class="stats-circle red-circle" id="diff-circle">
      <div class="stat-number" id="diff-total">9852.00 ุฏ.ู</div>
      <div class="stat-label">ุฅุฌูุงูู ุงููุฑููุงุช</div>
    </div>

    <div class="logo-wrapper">
      <img src="14CB1AC8-5C20-4ABE-8C85-3DF426A41645.png" alt="ุดุนุงุฑ ุงููุฑูุฒ">
    </div>

    <div class="stats-circle green-circle" id="complaint-circle">
      <div class="stat-number" id="complaint-count">74</div>
      <div class="stat-label">ุนุฏุฏ ุงูุดูุงูู</div>
    </div>
  </div>

  <h2>ุชุฌูุน ุฎุจุฑุงุก ูููุธูู ูุฑูุฒ ุงูุฎุจุฑุฉ ุงููุถุงุฆูุฉ ูุงูุจุญูุซ</h2>
  <h1>ูุงูุฐุฉ ุฑูุน ุจูุงูุงุช ูุบุฑุถ ุงูุดููู</h1>
</header>

<section class="form-container">
<form id="complaintForm" onsubmit="return validateForm(event)">
  <div class="two-columns">
    <div>
      <label for="name">ุงูุงุณู ุงููุงูู</label>
      <input type="text" id="name" name="ุงูุงุณู ุงููุงูู" required placeholder="ุงูุชุจ ุงุณูู ุงููุงูู">
    </div>
    <div>
      <label for="salary-status">ุญุงูุฉ ุงููุฑุชุจ</label>
      <select id="salary-status" name="ุญุงูุฉ ุงููุฑุชุจ" required>
        <option value="">ุงุฎุชุฑ ุงูุญุงูุฉ</option>
        <option>ูุณุชูุฑ</option>
        <option>ููููู</option>
      </select>
    </div>
  </div>

  <div class="two-columns">
    <div>
      <label for="branch">ุงููุฑุน</label>
      <select id="branch" name="ุงููุฑุน" required onchange="toggleOtherBranch()">
        <option value="">ุงุฎุชุฑ ุงููุฑุน</option>
        <option>ุจูุบุงุฒู</option>
        <option>ุทุฑุงุจูุณ</option>
        <option>ุงูุจูุถุงุก</option>
        <option>ูุตุฑุงุชุฉ</option>
        <option>ุณุจูุง</option>
        <option>ุจู ูููุฏ</option>
        <option>ุฃุฎุฑู</option>
      </select>
      <input type="text" id="other-branch" name="ูุฑุน ุขุฎุฑ" style="display:none;margin-top:12.5px;" placeholder="ุงูุชุจ ุงุณู ุงููุฑุน">
    </div>
    <div>
      <label for="role">ุงูุตูุฉ</label>
      <select id="role" name="ุงูุตูุฉ" required onchange="toggleExpertField()">
        <option value="">ุงุฎุชุฑ ุงูุตูุฉ</option>
        <option>ููุธู</option>
        <option>ุฎุจูุฑ ูุถุงุฆู</option>
        <option>ูุณุชุดุงุฑ</option>
      </select>
    </div>
  </div>

  <div id="expert-field" style="display:none;">
    <label for="specialty">ุงูุงุฎุชุตุงุต</label>
    <input type="text" id="specialty" name="ุงูุงุฎุชุตุงุต" placeholder="ุงูุชุจ ุงุฎุชุตุงุตู ุงููุถุงุฆู">
  </div>

  <div class="two-columns">
    <div>
      <label for="last-edit">ุชุงุฑูุฎ ุขุฎุฑ ุชุนุฏูู ูููุง ูุฅุฏุงุฑุฉ ุงูููุฒุงููุฉ</label>
      <input type="date" id="last-edit" name="ุชุงุฑูุฎ ุขุฎุฑ ุชุนุฏูู" required>
    </div>
    <div>
      <label for="edit-type">ููุน ุงูุชุนุฏูู</label>
      <input type="text" id="edit-type" name="ููุน ุงูุชุนุฏูู" required placeholder="ุงูุชุจ ููุน ุงูุชุนุฏูู">
    </div>
  </div>

  <div class="two-columns">
    <div>
      <label for="salary-before">ูููุฉ ุงูุฑุงุชุจ ูุจู ุงูุตุฑู ุงููุญุธู</label>
      <input type="number" id="salary-before" name="ุงูุฑุงุชุจ ูุจู ุงูุตุฑู" required placeholder="ุฃุฏุฎู ุงููููุฉ ุจุงูุฏููุงุฑ" oninput="calculateDifference()">
    </div>
    <div>
      <label for="salary-after">ูููุฉ ุงูุฑุงุชุจ ุงููุญุธู</label>
      <input type="number" id="salary-after" name="ุงูุฑุงุชุจ ุจุนุฏ ุงูุตุฑู" required placeholder="ุฃุฏุฎู ุงููููุฉ ุงูุญุงููุฉ ุจุงูุฏููุงุฑ" oninput="calculateDifference()">
    </div>
  </div>

  <div id="difference" class="difference-box">ุงููุฑู ุจุนุฏ ุฎุตู 1ูช ุชูุงูู ุงุฌุชูุงุนู: โ</div>
  <div id="note" class="note">โ๏ธ ุงุณุชูุทุงุน 1ูช ุฎุงุต ุจุงูุชูุงูู ุงูุงุฌุชูุงุนู</div>

  <label for="phone">ุฑูู ุงููุงุชู (ูุฌุจ ุฃู ูููู ูุฑุชุจุท ุจุญุณุงุจ ูุงุชุณุงุจ)</label>
  <input type="tel" id="phone" name="ุฑูู ุงููุงุชู" required placeholder="ุฃุฏุฎู ุฑูู ูุงุชูู">

  <button type="submit">ุฅุฑุณุงู ุงูุจูุงูุงุช</button>

  <div id="successMessage" class="success-message">
    โ ุชู ุงูุฅุฑุณุงู ุจูุฌุงุญ<br>
    ุณูุชู ุงูุชูุงุตู ุนุจุฑ ูุงุชุณุงุจ ูู ุบุถูู 24 ุณุงุนุฉ ูุงุณุชููุงู ุงูุฅุฌุฑุงุกุงุช.
    <button onclick="closeMessage()">โ</button>
  </div>
</form>
</section>

<footer>
  ูุฐุง ุงููููุน ูุง ููุซู ุฌูุฉ ุฑุณููุฉุ ูุฅููุง ูุดุงุท ุชุทูุนู ููุณุงุนุฏุฉ ุงูุฒููุงุก ุจูุฑูุฒ ุงูุฎุจุฑุฉ ุงููุถุงุฆูุฉ ูู ุฌููุน ูุฑูุน ููุจูุง.
</footer>

<script>
let totalDifference = parseFloat(localStorage.getItem("totalDifference")) || 9852;
let complaintCount = parseInt(localStorage.getItem("complaintCount")) || 74;
let currentDifference = 0;

document.getElementById("diff-total").textContent = totalDifference.toFixed(2) + " ุฏ.ู";
document.getElementById("complaint-count").textContent = complaintCount;

window.addEventListener("load", () => {
  document.getElementById("diff-circle").classList.add("show");
  document.getElementById("complaint-circle").classList.add("show");
});

function toggleExpertField() {
  const role = document.getElementById("role").value;
  document.getElementById("expert-field").style.display = role === "ุฎุจูุฑ ูุถุงุฆู" ? "block" : "none";
}

function toggleOtherBranch() {
  const branch = document.getElementById("branch").value;
  document.getElementById("other-branch").style.display = branch === "ุฃุฎุฑู" ? "block" : "none";
}

function calculateDifference() {
  const before = parseFloat(document.getElementById("salary-before").value) || 0;
  const after  = parseFloat(document.getElementById("salary-after").value)  || 0;
  const diffBox = document.getElementById("difference");
  const note = document.getElementById("note");

  if (!before || !after) {
    diffBox.textContent = "ุงููุฑู ุจุนุฏ ุฎุตู 1ูช ุชูุงูู ุงุฌุชูุงุนู: โ";
    diffBox.classList.remove("show");
    note.style.display = "none";
    currentDifference = 0;
    return;
  }

  const deduction = after * 0.01;
  currentDifference = (after - before) - deduction;
  const sign = currentDifference > 0 ? "+" : "";
  diffBox.textContent = `ุงููุฑู ุจุนุฏ ุฎุตู 1ูช ุชูุงูู ุงุฌุชูุงุนู: ${sign}${currentDifference.toFixed(2)} ุฏ.ู`;
  diffBox.style.color = currentDifference >= 0 ? "#8fe388" : "#e74c3c";
  diffBox.classList.add("show");
  note.style.display = "block";
}

function validateForm(event) {
  event.preventDefault();
  const form = document.getElementById('complaintForm');
  const inputs = form.querySelectorAll('input[required], select[required]');
  for (const input of inputs) {
    if (!input.value.trim()) {
      alert("ูุฑุฌู ุชุนุจุฆุฉ ุฌููุน ุงูุญููู ุงููุทููุจุฉ.");
      return false;
    }
  }

  totalDifference += currentDifference;
  complaintCount += 1;

  localStorage.setItem("totalDifference", totalDifference);
  localStorage.setItem("complaintCount", complaintCount);

  document.getElementById("diff-total").textContent = totalDifference.toFixed(2) + " ุฏ.ู";
  document.getElementById("complaint-count").textContent = complaintCount;

  const data = {
    "ุงูุงุณู ุงููุงูู": document.getElementById("name").value,
    "ุญุงูุฉ ุงููุฑุชุจ": document.getElementById("salary-status").value,
    "ุงููุฑุน": document.getElementById("branch").value === "ุฃุฎุฑู" ? document.getElementById("other-branch").value : document.getElementById("branch").value,
    "ุงูุตูุฉ": document.getElementById("role").value,
    "ุงูุงุฎุชุตุงุต": document.getElementById("specialty").value,
    "ุชุงุฑูุฎ ุขุฎุฑ ุชุนุฏูู": document.getElementById("last-edit").value,
    "ููุน ุงูุชุนุฏูู": document.getElementById("edit-type").value,
    "ุงูุฑุงุชุจ ูุจู ุงูุตุฑู": document.getElementById("salary-before").value,
    "ุงูุฑุงุชุจ ุจุนุฏ ุงูุตุฑู": document.getElementById("salary-after").value,
    "ูุฑู ุงูุฑุงุชุจ ุจุนุฏ ุงูุงุณุชูุทุงุน": currentDifference.toFixed(2),
    "ุฑูู ุงููุงุชู": document.getElementById("phone").value
  };

  let message = "๐ฉ ุชู ุฅุฑุณุงู ุดููู ุฌุฏูุฏุฉ:\n\n";
  for (const key in data) {
    if (data[key]) message += `*${key}*: ${data[key]}\n`;
  }

  const token = "8454996463:AAF9c2vUPOh_0KhT_uARf5uHR1r4iR6aJa8";
  const chatId = "7584556990";

  fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
    method: "POST",
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ chat_id: chatId, text: message, parse_mode: "Markdown" })
  }).then(response => {
    if (!response.ok) alert("ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงูุฅุฑุณุงูุ ุญุงูู ูุฌุฏุฏูุง.");
  }).catch(() => alert("ูุดู ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช ุฃู ุงูุจูุช."));

  const msg = document.getElementById("successMessage");
  msg.style.display = "block";
  setTimeout(() => msg.style.display = "none", 10000);

  form.reset();
  document.getElementById("difference").classList.remove("show");
  document.getElementById("note").style.display = "none";
}

function closeMessage() {
  document.getElementById("successMessage").style.display = "none";
}
</script>

</body>
</html>
